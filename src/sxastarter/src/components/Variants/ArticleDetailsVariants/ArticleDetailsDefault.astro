---
import {
  Text,
  AstroImage,
  RichText,
} from "@astro-sitecore-jss/astro-sitecore-jss";
import Placeholder from "components/system/Placeholder.astro";
import ParallaxBackgroundImage from 'components/NonSitecore/ParallaxBackgroundImage.astro';
import { ArticleDetailsProps } from "components/PageContent/ArticleDetails.astro";

const props: ArticleDetailsProps = Astro.props.route;
const id = props.params.RenderingIdentifier;
---

<div
  class={`component article-details page-background spaced-top col-12 ${props.params?.styles?.trimEnd()}`}
  id={id ? id : undefined}
>
  <ParallaxBackgroundImage BackgroundImage={props.fields.BackgroundImage} />

  <div class="container">
    <Placeholder name="page-navigation" rendering={props.rendering} />
  </div>

  <div>
    <div
      class="background-content component-spaced container rounded-corners"
    >
      <div class="p-3 p-sm-5">
        <div class="article-content">
          <div class="row row-gap-4 gx-5">
            <div class="col-12 col-lg-6">
              <AstroImage
                field={props.fields.Thumbnail}
                class="article-img img-fluid"
              />
            </div>
            <div class="col-12 col-lg-6">
              <div class="row">
                <Placeholder name="article-meta" rendering={props.rendering} />
              </div>
              <h1 class="article-title">
                <Text field={props.fields.Title} />
              </h1>
              <p class="article-excerpt">
                <Text field={props.fields.Excerpt} />
              </p>
            </div>
          </div>
          <div class="article-content-body mt-5">
            <RichText field={props.fields.Content} />
          </div>
        </div>
        <div class="row">
          <Placeholder
            name="background-page-content"
            rendering={props.rendering}
          />
        </div>
      </div>
    </div>
    <Placeholder name="page-content" rendering={props.rendering} />
  </div>
</div>
